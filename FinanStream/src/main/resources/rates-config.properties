# rates-config.properties burada s?kl?klar formuller degerler ve handler olacak
# tabiki de mete baba burayi halleder
supported.tickers=USD,EUR,GBP
initial.USD=27.50
initial.EUR=29.00
initial.GBP=34.00

# alttakiler revize edilebilir
supported.platforms=PF1,PF2
supported.base.currencies=USD,EUR,GBP
target.currency=TRY

# Raw data symbols that will be collected from platforms
raw.symbols=PF1_USDTRY,PF1_EURUSD,PF1_GBPUSD,PF2_USDTRY,PF2_EURUSD,PF2_GBPUSD

# Calculated symbols that will be derived
calculated.symbols=USDTRY,EURTRY,GBPTRY


PF1_USDTRY.initial.bid=33.60
PF1_USDTRY.initial.ask=35.90

PF1_EURUSD.initial.bid=1.0220
PF1_EURUSD.initial.ask=1.0450

PF1_GBPUSD.initial.bid=1.2510
PF1_GBPUSD.initial.ask=1.2645

# Platform 2 initial values
PF2_USDTRY.initial.bid=34.80
PF2_USDTRY.initial.ask=35.10

PF2_EURUSD.initial.bid=1.0370
PF2_EURUSD.initial.ask=1.0410

PF2_GBPUSD.initial.bid=1.2590
PF2_GBPUSD.initial.ask=1.2615

# ====================================================================
# VOLATILITY AND SIMULATION SETTINGS
# ====================================================================
# Maximum percentage change per update (for realistic simulation)
volatility.max.change.percent=0.05

# Update frequencies in milliseconds
update.frequency.tcp=8000
update.frequency.rest=5000

# Number of updates to publish (-1 for infinite)
max.updates=-1

# ====================================================================
# CALCULATION FORMULAS
# ====================================================================
# Formula engine type: JAVA_CLASS, JAVASCRIPT, GROOVY
formula.engine.type=JAVASCRIPT

# USD/TRY Calculation Formula
# USDTRY.bid = (PF1_USDTRY.bid + PF2_USDTRY.bid) / 2
# USDTRY.ask = (PF1_USDTRY.ask + PF2_USDTRY.ask) / 2
USDTRY.bid.formula=(getValue('PF1_USDTRY','bid') + getValue('PF2_USDTRY','bid')) / 2
USDTRY.ask.formula=(getValue('PF1_USDTRY','ask') + getValue('PF2_USDTRY','ask')) / 2

# EUR/TRY Calculation Formula
# usdmid = ((PF1_USDTRY.bid+PF2_USDTRY.bid)/2 + (PF1_USDTRY.ask+PF2_USDTRY.ask)/2) / 2
# EURTRY.bid = usdmid * ((PF1_EURUSD.bid+PF2_EURUSD.bid)/2)
# EURTRY.ask = usdmid * ((PF1_EURUSD.ask+PF2_EURUSD.ask)/2)
EURTRY.bid.formula=((getValue('PF1_USDTRY','bid')+getValue('PF2_USDTRY','bid'))/2 + (getValue('PF1_USDTRY','ask')+getValue('PF2_USDTRY','ask'))/2)/2 * ((getValue('PF1_EURUSD','bid')+getValue('PF2_EURUSD','bid'))/2)
EURTRY.ask.formula=((getValue('PF1_USDTRY','bid')+getValue('PF2_USDTRY','bid'))/2 + (getValue('PF1_USDTRY','ask')+getValue('PF2_USDTRY','ask'))/2)/2 * ((getValue('PF1_EURUSD','ask')+getValue('PF2_EURUSD','ask'))/2)

# GBP/TRY Calculation Formula
# usdmid = ((PF1_USDTRY.bid+PF2_USDTRY.bid)/2 + (PF1_USDTRY.ask+PF2_USDTRY.ask)/2) / 2
# GBPTRY.bid = usdmid * ((PF1_GBPUSD.bid+PF2_GBPUSD.bid)/2)
# GBPTRY.ask = usdmid * ((PF1_GBPUSD.ask+PF2_GBPUSD.ask)/2)
GBPTRY.bid.formula=((getValue('PF1_USDTRY','bid')+getValue('PF2_USDTRY','bid'))/2 + (getValue('PF1_USDTRY','ask')+getValue('PF2_USDTRY','ask'))/2)/2 * ((getValue('PF1_GBPUSD','bid')+getValue('PF2_GBPUSD','bid'))/2)
GBPTRY.ask.formula=((getValue('PF1_USDTRY','bid')+getValue('PF2_USDTRY','bid'))/2 + (getValue('PF1_USDTRY','ask')+getValue('PF2_USDTRY','ask'))/2)/2 * ((getValue('PF1_GBPUSD','ask')+getValue('PF2_GBPUSD','ask'))/2)


USDTRY.depends.on=PF1_USDTRY,PF2_USDTRY
EURTRY.depends.on=PF1_USDTRY,PF2_USDTRY,PF1_EURUSD,PF2_EURUSD
GBPTRY.depends.on=PF1_USDTRY,PF2_USDTRY,PF1_GBPUSD,PF2_GBPUSD
